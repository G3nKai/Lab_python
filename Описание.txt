Ğ—Ğ´ĞµÑÑŒ Ñ Ñ€Ğ°ÑĞ¿Ğ¸ÑÑ‹Ğ²Ğ°Ñ Ğ¿Ğ¾ ÑˆĞ°Ğ³Ğ°Ğ¼, Ñ‡Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°Ğ»:
1) Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ» Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¸ Ğ·Ğ´ĞµÑÑŒ Ğ¶Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ» Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ
python -m venv .venv
2) ĞĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ» Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ - Ğ¾Ğ½Ğ¾ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»Ğ¸Ñ‚ ÑƒÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ°ĞºĞµÑ‚Ñ‹ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¿Ñ€ÑĞ¼Ğ¾ Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚
.venv\Scripts\activate.bat
3) Ğ’ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ fast api
python -m pip install "fastapi[standard]"


ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ğ¼ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ ÑƒĞ¶Ğµ Ğ² Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¾Ñ€Ğµ ĞºĞ¾Ğ´Ğ° VS Code.

4) Ğ¡Ğ»ĞµĞ´ÑƒĞ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸ FastApi, ÑĞ¾Ğ·Ğ´Ğ°Ğ´Ğ¸Ğ¼ main.py Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼ Ğ½Ğ°Ñˆ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚:
#main.py
from typing import Union
from pydantic import BaseModel
from fastapi import FastAPI

app = FastAPI()

class Item(BaseModel):
    name: str
    price: float
    is_offer: Union[bool, None] = None

@app.get("/")
def read_root():
    return {"Hello": "World"}


@app.get("/items/{item_id}")
def read_item(item_id: int, q: Union[str, None] = None):
    return {"item_id": item_id, "q": q}

@app.put("/items/{item_id}")
def update_item(item_id: int, item: Item):
    return {"item_name": item.name, "item_id": item_id}


Ğ² Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ» Ğ²Ğ¿Ğ¸ÑˆĞµĞ¼: fastapi dev main.py - Ğ½Ğ°Ñˆ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½.

   FastAPI   Starting development server ğŸš€
 
             Searching for package file structure from directories with __init__.py files
             Importing from D:\Programming\Projects\pythonLab
 
    module   ğŸ main.py
 
      code   Importing the FastAPI app object from the module with the following code:
 
             from main import app
 
       app   Using import string: main:app

    server   Server started at http://127.0.0.1:8000
    server   Documentation at http://127.0.0.1:8000/docs

       tip   Running in development mode, for production use: fastapi run

5) Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ğ» ORM - SQLAlchemy
pip install SQLAlchemy
6) Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ database.py, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°Ñ‚ÑŒ Ğ·Ğ° ÑÑ…ĞµĞ¼Ñƒ Ğ‘Ğ”. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ Ğ² Ğ½ĞµĞ¼ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ»Ğ°ÑÑ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹.
#database.py
from sqlalchemy.orm import declarative_base

Base = declarative_base()
7) Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ğ‘Ğ” person.py, Ğ° Ñ‚Ğ°ĞºĞ¶Ğµ PersonDTO ĞºĞ¾Ñ‚Ğ¾Ñ€ÑƒÑ Ğ¼Ñ‹ Ğ±ÑƒĞ´ĞµĞ¼ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ñ…:
#person.py
import uuid
from sqlalchemy import Column, Integer, String
from Infrastructure.database import Base
from sqlalchemy.dialects.postgresql import UUID

class Person(Base):
    __tablename__ = "persons"

    id = Column(UUID(as_uuid=True), primary_key=True, default=uuid.uuid4, index=True)
    name = Column(String(127), index=True, nullable=False)
    description = Column(String(511))
    phone = Column(String(20), index=True)
    email = Column(String(127), unique=True, index=True, nullable=False)
    address = Column(String(255), index=True)

#personDTO.py
from pydantic import BaseModel, EmailStr
from typing import Optional
import uuid

class PersonDTO(BaseModel):
    id: Optional[uuid.UUID]
    name: str
    description: Optional[str] = None
    phone: Optional[str] = None
    email: EmailStr
    address: Optional[str] = None

8) Ğ‘Ñ‹Ğ»Ğ¾ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¾ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº Ğ‘Ğ” PostgreSQL:
#database.py
from sqlalchemy.orm import declarative_base
from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker

DATABASE_URL = "postgresql://postgres:QWERTY12345@localhost:5432/python_lab"

engine = create_engine(DATABASE_URL)
sessionLocal = sessionmaker(bind=engine)

Base = declarative_base()
9) Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ´Ğ»Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹ Ğ½Ğ°Ğ´ Person:

#IPersonRepository.py
from abc import ABC, abstractmethod
from typing import List, Optional
from Domain.Models.person import Person
from Infrastructure.DTO.personDTO import PersonDTO

class IPersonRepository(ABC):
    @abstractmethod
    def get_person_all(self) -> List[Person]:
        pass
    @abstractmethod
    def get_person_by_id(self, id: int) -> Optional[Person]:
        pass
    @abstractmethod
    def delete_person_by_id(self, id: int) -> None:
        pass
    @abstractmethod
    def update_person_by_id(self, id: int, person: PersonDTO) -> Optional[Person]:
        pass
    @abstractmethod
    def create_person(self, person: PersonDTO) -> Person:
        pass